include:
  - trip-management/docker-compose.yaml
  - recommendations/docker-compose.yaml
  - place-wrapper/docker-compose.yaml
  - maps-wrapper/docker-compose.yaml

services:
  reverse-proxy:
    build:
      context: .
      dockerfile: ./Dockerfile
    container_name: reverse-proxy
    ports:
      - "443:443"
    networks:
      - voyage
    depends_on:
      - trip-management
      - recommendations
      - place-wrapper
      - maps-wrapper
      - maps-wrapper-cache

networks:
  voyage:
    driver: bridge
